{% extends "../base.html" %}
{% load static %}

{% block title %}Home | LoL Insights{% endblock %}

{% block extra_js %}
  <script defer src="{% static 'core/home/js/app.js' %}"></script>
{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'core/home/css/styles.css' %}">
{% endblock %}

{% block content %}
<div class="container mx-auto">
  <!-- Hero Section -->
  <div class="hero-section text-center">
    <span class="badge-dev mb-3">Dev Mode</span>
    <h1 class="display-4 fw-bold text-warning mb-3">Django + Vanilla JS Demo</h1>
    <p class="lead text-light">Test API integration and see responses live. Enter a summoner name and tag to fetch match data.</p>
  </div>

  <!-- Manual Fetch Test -->
  <div class="feature-card">
    <div class="test-section">
      <h3 class="section-title">
        <i class="bi bi-code-slash"></i> Manual Fetch Test
      </h3>
      <p class="text-light mb-3">Test the API connection with a simple fetch request</p>
      <div class="d-flex align-items-center">
        <button id="btn" class="btn btn-riot">
          Fetch Data
        </button>
        <div class="loading-spinner" id="spinner1"></div>
      </div>
      <div class="mt-3">
        <pre id="out" class="output-box text-success">Response will appear here...</pre>
      </div>
    </div>
  </div>

  <!-- Fetch Games by Player -->
  <div class="feature-card">
    <div class="test-section">
      <h3 class="section-title">
        <i class="bi bi-person-circle"></i> Fetch Games by Player
      </h3>
      <p class="text-light mb-4">Enter a summoner name and tag to retrieve their recent match history</p>
      
      <div class="row g-3 mb-3">
        <div class="col-md-5">
          <label for="username" class="form-label text-warning fw-semibold">Summoner Name</label>
          <input 
            id="username" 
            name="username" 
            type="text" 
            class="form-control custom-input" 
            placeholder="e.g., NA1"
          >
        </div>
        <div class="col-md-5">
          <label for="tag" class="form-label text-warning fw-semibold">Tag</label>
          <input 
            id="tag" 
            name="tag" 
            type="text" 
            class="form-control custom-input" 
            placeholder="e.g., NA1"
          >
        </div>
        <div class="col-md-2 d-flex align-items-end">
          <button id="fetch_games_btn" class="btn btn-riot w-100">
            Search
          </button>
        </div>
      </div>

      <div id="games_div" class="mt-4">
        <h5 class="text-warning mb-3">
          <i class="bi bi-trophy"></i> Games
        </h5>
        <pre id="out2" class="output-box text-info">Enter a summoner name and tag, then click "Search" to view match history...</pre>
      </div>
    </div>
  </div>
</div>
{% endblock %}